define(["modules/default/defaultview","src/util/datatraversing","src/util/domdeferred","src/util/api","src/util/typerenderer"],function(a,b,c,d,e){function f(){}return f.prototype=$.extend(!0,{},a,{init:function(){var a="<div></div>";this.dom=$(a).css(this.module.getConfigurationCheckbox("append","yes")?{height:"100%",width:"100%","overflow-x":"hidden","overflow-y":"scroll"}:{display:"table","table-layout":"fixed",height:"100%",width:"100%"}),this.values={},this.module.getDomContent().html(this.dom),this.fillWithVal(this.module.getConfiguration("defaultvalue")),this.resolveReady(),this._relsForLoading=["value"]},blank:{value:function(){if(this.module.getConfigurationCheckbox("append","yes"))for(var a=this.module.getConfiguration("maxEntries"),b=this.dom.children(),c=b.length-a,d=0;c>d;d++)b[d].remove();else this.dom.empty()},color:function(){this.module.getDomContent().css("background-color","#FFF")}},update:{color:function(a){this.module.getDomContent().css("background-color",a.get())},value:function(a,b){void 0==a?this.fillWithVal(this.module.getConfiguration("defaultvalue")||""):this.render(a,b)}},render:function(a,b){var c=this,d=e.toScreen(a,this.module);d.always(function(a){c.values[b]=a,c.renderAll(a,d)})},renderAll:function(a,b){{var c=this,d=this.module.getConfiguration("sprintf");this.module.getConfiguration("sprintfOrder")}if(d&&""!=d)try{require(["components/sprintf/dist/sprintf.min"],function(){var e=[d];for(var f in c.values)e.push(c.values[f]);a=sprintf.apply(this,e),c.fillWithVal(a,b)})}catch(d){c.fillWithVal(a,b)}else c.fillWithVal(a,b)},_scrollDown:function(){var a=this.dom[0].scrollHeight;this.dom.scrollTop(a)},fillWithVal:function(a,b){var d,e=this.module.getConfiguration("valign"),f=this.module.getConfiguration("align"),g=this.module.getConfiguration("fontcolor"),h=this.module.getConfiguration("fontsize"),i=this.module.getConfiguration("font"),j=this.module.getConfigurationCheckbox("preformatted","pre"),k=this.module.getConfigurationCheckbox("preformatted","selectable"),l=void 0!=a?a.toString():"";this.module.getConfigurationCheckbox("append","yes")?(d=$("<div>").css({fontFamily:i||"Arial",fontSize:h||"10pt",color:g||"#000000","vertical-align":e||"top",textAlign:f||"center",width:"100%","white-space":j?"pre":"normal","word-wrap":"break-word","user-select":k?"text":"none"}).html(l),this.dom.append(d)):(d=$("<div />").css({fontFamily:i||"Arial",fontSize:h||"10pt",color:g||"#000000",display:"table-cell","vertical-align":e||"top",textAlign:f||"center",width:"100%",height:"100%","white-space":j?"pre":"normal","word-wrap":"break-word","user-select":k?"text":"none"}).html(l),this.dom.html(d)),this._scrollDown(),b&&b.build&&(b.build(),this._scrollDown()),c.notify(d)}}),f});