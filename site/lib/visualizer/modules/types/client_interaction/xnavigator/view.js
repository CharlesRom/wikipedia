define(["modules/default/defaultview","src/util/util","jquery"],function(a,b,c){function d(){}return d.prototype=c.extend(!0,{},a,{init:function(){this.dom=c("<div />");var a=this,b=c('<div class="ci-navigation-navigarrow"></div>');this.domNavig=c("<div />").addClass("").append(b.clone().addClass("left")).append(b.clone().addClass("right")).on("mousedown",".ci-navigation-navigarrow",function(b){a.moveStart(b)}),this.dom.append(this.domNavig),this.module.getDomContent().html(this.dom),this.cx=0,this.step=this.module.getConfiguration("step")||2,console.log(this.step);var a=this},inDom:function(){this.resolveReady()},update:{xcoords:function(a){a&&(this.cx=a)}},moveStart:function(a){var b=Date.now(),d=this,e=c(a.target||a.srcElement);mode=e.hasClass("left")?"left":e.hasClass("right")?"right":"left";var f,d=this,g=function(){return 3e5/(Date.now()-b+1500)+10},h=function(){"left"==mode?d.cx-=d.step:"right"==mode&&(d.cx+=d.step),d.module.controller.move(d.cx),i()},i=function(){f=window.setTimeout(h,g())},j=function(){window.clearTimeout(f),c(document).unbind("mouseup",j)};c(document).bind("mouseup",j),h()},onActionReceive:{changeX:function(a){this.cx=parseFloat(a.valueOf())}}}),d});