define(["modules/types/client_interaction/code_editor/view","src/util/util","ace/ace","src/util/context","jquery"],function(a,b,c,d,e){function f(){}return f.prototype=Object.create(a.prototype),f.prototype.init=function(){a.prototype.init.call(this),this._input={}},f.prototype.inDom=function(){var a=this,b=this.module.getConfiguration("script")||"";if(this._code=b,this.module.getConfigurationCheckbox("display","editor")&&(e('<div id="'+this._id+'"></div>').css("height","100%").css("width","100%").appendTo(this.editorCell),this.editor=c.edit(this._id),this.editor.getSession().setMode("./mode/javascript"),this.editor.setValue(b,-1),this.editor.getSession().on("change",this.editorChanged.bind(this))),this.module.getConfigurationCheckbox("display","buttons")){var d=this.module.getConfiguration("buttons");d?d.forEach(function(b){a.buttonCell.append(e("<span>"+b.label+"</span>").addClass("form-button").on("click",function(){a.module.controller.onButtonClick(b.name)}))}):this.buttonRow.css("height",0)}else this.buttonRow.css("height",0);this.resolveReady()},f.prototype.editorChanged=function(){var a=this.editor.getValue();this._code=a,this.module.definition.configuration.groups.group[0].script[0]=a},f.prototype.blank.inputValue=function(a){this._input[a]=null},f.prototype.update.inputValue=function(a,b){this._input[b]=a,this.module.controller.onVariableIn()},f.prototype.onActionReceive.execute=function(a,b){this.module.controller.onActionIn(b,a)},f});