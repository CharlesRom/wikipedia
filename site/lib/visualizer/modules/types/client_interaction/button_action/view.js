"use strict";define(["modules/default/defaultview","forms/button","src/util/ui","src/util/typerenderer"],function(a,b,c,d){function e(){}return $.extend(!0,e.prototype,a,{init:function(){function a(a,b){var d=Promise.resolve(!0);f.module.getConfigurationCheckbox("askConfirm","yes")&&(d=c.confirm(f.module.getConfiguration("confirmText"),f.module.getConfiguration("okLabel"),f.module.getConfiguration("cancelLabel"))),d.then(function(a){a&&(b||"toggle"!==i||g?"toggle"!==i||g||(j.setTitle(f.module.getConfiguration("onLabel")),f.setButtonColor(f.module.getConfiguration("onColor"))):(j.setTitle(f.module.getConfiguration("offLabel")),f.setButtonColor(f.module.getConfiguration("offColor"))),f.module.controller.onClick(b))})}var e,f=this;this.dom=$("<div></div>");var g=this.module.getConfiguration("content"),h=this.module.getConfiguration("contentType"),i=this.module.getConfiguration("toggle");e="toggle"===i&&"off"===this.module.getConfiguration("startState")?this.module.getConfiguration("offLabel"):"toggle"===i&&"on"===this.module.getConfiguration("startState")?this.module.getConfiguration("onLabel"):this.module.getConfiguration("label");var j=new b(e,a,{color:"Grey",disabled:!1,checkbox:"click"!==this.module.getConfiguration("toggle"),value:"on"===this.module.getConfiguration("startState")});if(this.module.getDomContent().html(this.dom),g)if("imageUrl"===h)this.dom.html('<img src="'+g+'" width="100%" height="100%" style="cursor: pointer;"/>'),this.dom.on("click",a);else if("svg"===h){var k=$("<div>");k.append(g),k.css("cursor","pointer"),d.render(k,{type:"svg",value:g}),k.on("click",a),this.dom.html(k)}else{var k=$("<div>");k.append(g),k.css("cursor","pointer"),k.on("click",a),this.dom.html(k)}else this.dom.html(j.render());this.button=j,"toggle"!==i||g||f.setButtonColor(f.module.getConfiguration("offColor")),this.resolveReady()},setButtonColor:function(a){a="rgba("+a.join(",")+")",this.button.setColorCss(a)}}),e});